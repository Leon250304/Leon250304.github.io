<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Meine persÃ¶nliche Startseite</title>
  <style>
    /* Theme variables and modernized styling */
    :root {
      --bg: #f9fafb;
      --fg: #0f1720;
      --accent: #20b581ff;
      --card-bg: #ffffff;
      --border: #e5e7eb;
      --muted: #6b7280;
      --glass: rgba(255,255,255,0.6);
    }
    :root[data-theme='dark'], [data-theme='dark'] {
      --bg: #0b1020;
      --fg: #e6eef2;
      --accent: #2bd6a1;
      --card-bg: #071122;
      --border: rgba(255,255,255,0.06);
      --muted: #94a3b8;
      --glass: rgba(255,255,255,0.03);
    }
    html { transition: background 220ms ease, color 220ms ease; }
    body { background: linear-gradient(180deg,var(--bg), rgba(0,0,0,0.02)); transition: background 220ms ease, color 220ms ease; }

    :root {
      --bg: #f9fafb;
      --fg: #1a1a1a;
      --accent: #20b581ff;
      --card-bg: #fff;
      --border: #e5e7eb;
    }
    html {
      box-sizing: border-box;
    }
    *, *::before, *::after {
      box-sizing: inherit;
    }
    body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      color: var(--fg);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      line-height: 1.8;
      min-height: 100vh;
      letter-spacing: 0.01em;
    }
    header {
      padding: 2.5rem 1rem 1.5rem 1rem;
      text-align: center;
      background: var(--card-bg);
      border-bottom: 1px solid var(--border);
    }
    header h1 {
      margin: 0 0 0.7rem 0;
      font-size: 2.3rem;
      color: var(--accent);
      letter-spacing: -1px;
    }
    header p {
      margin: 0.7em 0;
    }
    main {
      max-width: 800px;
      margin: 2.5rem auto;
      padding: 0 1rem;
      display: flex;
      flex-direction: column;
      gap: 3rem;
    }
    section {
      background: var(--card-bg);
      border-radius: 1rem;
      box-shadow: 0 2px 16px rgba(32,181,129,0.10);
      padding: 2rem 1.2rem;
      border: 1px solid var(--border);
      margin-bottom: 0.5rem;
    }
    /* Bild */
    .profilbild {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .profilbild img {
      width: 140px;
      height: 140px;
      object-fit: cover;
      border-radius: 50%;
      border: 3px solid var(--accent);
      background: #fff;
      box-shadow: 0 4px 16px rgba(32,181,129,0.13);
    }
    /* Tabelle */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1.2rem;
      font-size: 1rem;
    }
    th, td {
      padding: 0.7rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border);
      transition: background 0.2s;
    }
    th {
      background: var(--bg);
      color: var(--accent);
      font-weight: 600;
      letter-spacing: 0.02em;
    }
    tbody tr:hover {
      background: #e6faf4;
    }
    /* Galerie */
    .galerie {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
      margin-top: 1.2rem;
    }
    .karte {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 1rem;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: box-shadow 0.2s, border-color 0.2s;
      box-shadow: 0 2px 16px rgba(32,181,129,0.13);
      min-height: 100%;
    }
    .karte:hover {
      box-shadow: 0 8px 32px rgba(32,181,129,0.18);
      border-color: var(--accent);
    }
    .karte img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      background: #eee;
      border-top-left-radius: 1rem;
      border-top-right-radius: 1rem;
    }
    .karte-content {
      padding: 1.2rem 1rem 1rem 1rem;
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.7rem;
    }
    .karte-title {
      font-size: 1.13rem;
      font-weight: 600;
      color: var(--accent);
      margin: 0;
      letter-spacing: 0.01em;
    }
    .karte-text {
      font-size: 1rem;
      color: var(--fg);
      margin: 0;
      flex: 1;
    }
    .karte-link {
      text-decoration: none;
      color: inherit;
      display: block;
      height: 100%;
    }
    @media (max-width: 720px) {
      .galerie {
        grid-template-columns: 1fr;
      }
      main {
        margin: 1.2rem 0;
        gap: 1.5rem;
      }
      section {
        padding: 1.2rem 0.7rem;
      }
      .profilbild img {
        width: 100px;
        height: 100px;
      }
    }
    @media (max-width: 600px) {
      main {
        margin: 0.7rem 0;
        gap: 1.1rem;
      }
      section {
        padding: 1rem 0.5rem;
      }
    }

    /* Tabs */
    .tabs-bar { display:flex; align-items:center; gap:0.5rem; }
    .tab {
      background: transparent;
      border: 1px solid transparent;
      padding: 0.45rem 0.9rem;
      border-radius: 999px;
      cursor: pointer;
      font-weight:600;
      color:var(--muted);
      transition: all 180ms ease;
      outline: none;
      box-shadow: none;
    }
    .tab:hover { transform: translateY(-2px); color:var(--fg); }
    .tab[aria-selected='true']{
      background: linear-gradient(90deg, rgba(32,181,129,0.12), rgba(32,181,129,0.06));
      color: var(--accent);
      border-color: rgba(32,181,129,0.18);
      box-shadow: 0 6px 18px rgba(32,181,129,0.08);
    }
    .tab:focus{ box-shadow: 0 0 0 4px rgba(32,181,129,0.08); }

    .theme-toggle{
      background: var(--card-bg);
      border: 1px solid var(--border);
      padding: 0.45rem 0.6rem;
      border-radius: 0.55rem;
      cursor:pointer;
      font-size:1rem;
      transition:transform 150ms ease, background 150ms ease;
    }
    .theme-toggle:hover{ transform: translateY(-2px); }

    /* Panels */
    .panels .tabpanel{ display:block; background:var(--card-bg); border-radius:1rem; padding:1.4rem; border:1px solid var(--border); box-shadow:0 8px 30px rgba(2,6,23,0.04); margin-bottom:1rem; }
    .panels .tabpanel[aria-hidden='true']{ display:none; }

    /* Cards */
    .karte{ border-radius:0.9rem; overflow:hidden; border:1px solid var(--border); background:var(--card-bg); transition:transform 220ms ease, box-shadow 220ms ease; }
    .karte img{ height:140px; object-fit:cover; }
    .karte:hover{ transform: translateY(-6px); box-shadow:0 20px 40px rgba(2,6,23,0.12); }

    /* Table improvements */
    table tbody tr{ transition:background 180ms ease, transform 180ms ease; }
    table tbody tr:hover{ transform: translateX(6px); }

    /* Responsive tweaks */
    @media (max-width:720px){
      .tabs-bar{ padding:0 0.6rem; }
      .tab{ padding:0.4rem 0.7rem; font-size:0.95rem; }
      .karte img{ height:120px; }
    }

    /* News specific styles */
    .news-list {
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
      margin-top: 0.8rem;
    }
    .news-item {
      display: flex;
      gap: 12px;
      align-items: flex-start;
      padding: 1rem;
      border: 1px solid var(--border);
      border-radius: 0.9rem;
      background: var(--card-bg);
      transition: transform 220ms ease, box-shadow 220ms ease;
    }
    .news-item:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 32px rgba(32,181,129,0.18);
    }
    .news-item img {
      width: 140px;
      height: 100px;
      object-fit: cover;
      flex: 0 0 140px;
      border-radius: 8px;
    }
    .news-item div {
      flex: 1;
    }
    .news-item .meta {
      font-size: 0.9rem;
      color: var(--muted);
      margin-bottom: 0.25rem;
    }
    .news-item .title {
      font-weight: 700;
      margin-bottom: 0.25rem;
    }
    .news-item .excerpt {
      color: var(--muted);
    }

    /* Floating contact area */
    .contact-float {
      position: fixed;
      right: 18px;
      bottom: 18px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 1200;
      align-items: center;
      pointer-events: none; /* allow only links to be interactive */
    }
    .contact-float .contact-btn {
      pointer-events: auto;
      width: 46px;
      height: 46px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: var(--card-bg);
      border: 1px solid var(--border);
      color: var(--fg);
      border-radius: 10px;
      text-decoration: none;
      transition: transform 150ms ease, box-shadow 150ms ease, background 150ms ease;
      box-shadow: 0 6px 18px rgba(2,6,23,0.06);
    }
    .contact-float .contact-btn:hover, .contact-float .contact-btn:focus {
      transform: translateY(-6px);
      box-shadow: 0 18px 34px rgba(2,6,23,0.12);
      background: linear-gradient(180deg, rgba(32,181,129,0.06), transparent);
      outline: none;
    }
    .contact-icon {
      width: 20px;
      height: 20px;
      display: block;
      color: var(--accent);
    }
    /* Karten / iframe previews */
    .karte iframe {
      width: 100%;
      height: 220px;
      border: 0;
      display: block;
      background: #f6f8f9;
    }
    @media (max-width:480px){
      .contact-float { right: 12px; bottom: 12px; }
      .contact-float .contact-btn { width:40px;height:40px; }
      .contact-icon { width:18px;height:18px; }
    }
  </style>
</head>
<body>
  <header>
    <div style="display:flex;align-items:center;justify-content:center;gap:1.2rem;flex-wrap:wrap;">
      <img src="assets/me.jpg" alt="Profilbild von Leon Ackermann" width="60" height="60" style="object-fit:cover;border-radius:50%;border:2px solid var(--accent);box-shadow:0 2px 8px rgba(32,181,129,0.13);background:#fff;aspect-ratio:1/1;">
      <h1 style="margin:0;">Leon Ackermann</h1>
    </div>
    <p>Willkommen auf meiner persÃ¶nlichen Startseite. Hier findest du einen kurzen Ãœberblick Ã¼ber meinen Werdegang und einige Projekte, die mir am Herzen liegen.</p>
    <p>Ich interessiere mich fÃ¼r Geoinformatik, Webentwicklung und innovative Technologien, die unsere Welt vernetzen.</p>
  </header>
  <main>
    <!-- Tabs + Theme Toggle -->
    <div class="tabs-bar" role="tablist" aria-label="Hauptnavigation" style="max-width:800px;margin:1.2rem auto 0;display:flex;align-items:center;gap:0.6rem;padding:0 1rem;">
      <div class="tabs" style="display:flex;gap:0.5rem;flex:1;">
        <button class="tab" role="tab" aria-selected="true" data-target="tab-about">About</button>
        <button class="tab" role="tab" aria-selected="false" data-target="tab-news">News</button>
        <button class="tab" role="tab" aria-selected="false" data-target="tab-projects">Projects</button>
        <button class="tab" role="tab" aria-selected="false" data-target="tab-maps">Karten</button>
      </div>
      <button id="themeToggle" class="theme-toggle" aria-pressed="false" title="Light/Night Mode" aria-label="Thema wechseln">ðŸŒ™</button>
    </div>

    <!-- Panels -->
    <div class="panels" style="max-width:800px;margin:0.6rem auto;padding:0 1rem;">
      <section id="tab-about" class="tabpanel" role="tabpanel" aria-hidden="false">
        <!-- About: personal intro + photo -->
        <section class="profilbild">
          <figure>
            <img src="assets/me.jpg" alt="PortrÃ¤t von Leon Ackermann">
            <figcaption style="text-align:center; margin-top:0.5rem; color:var(--muted); font-size:0.95rem;">Das bin ich</figcaption>
          </figure>
        </section>
        <section style="margin-top:1rem;">
          <h2>Ãœber mich</h2>
          <p>Hallo â€” ich bin Leon Ackermann, Student der Geoinformatik mit Interesse an Web-GIS, Datenanalyse und Open Data. Auf dieser Seite stelle ich mich, aktuelle Neuigkeiten und ausgewÃ¤hlte Projekte vor.</p>
        </section>
      </section>

      <section id="tab-news" class="tabpanel" role="tabpanel" aria-hidden="true">
        <!-- News: current events and timeline -->
        <section>
          <h2>News</h2>
          <div id="newsContainer" class="news-list" style="display:flex;flex-direction:column;gap:0.8rem;margin-top:0.8rem;">
            <!-- News items will be injected here by JavaScript -->
          </div>
        </section>
      </section>

      <section id="tab-projects" class="tabpanel" role="tabpanel" aria-hidden="true">
        <!-- Projects: gallery of web-maps / sites -->
        <section>
          <h2>Projects</h2>
          <div class="galerie" style="margin-top:0.8rem;">
            <a class="karte-link" href="https://github.com/" target="_blank" rel="noopener" aria-label="Projekt: Interaktive Web-Map">
              <div class="karte">
                <img src="https://picsum.photos/600/400?random=11" alt="Web-Map Beispiel">
                <div class="karte-content">
                  <div class="karte-title">Interactive Web-Map</div>
                  <div class="karte-text">Interaktive Karte mit thematischen Layern und Filtern (Web-GIS-Projekt).</div>
                </div>
              </div>
            </a>
            <a class="karte-link" href="https://portfolio.example.com/" target="_blank" rel="noopener" aria-label="Projekt: PersÃ¶nliche Webseite">
              <div class="karte">
                <img src="https://picsum.photos/600/400?random=12" alt="Portfolio Beispiel">
                <div class="karte-content">
                  <div class="karte-title">Personal Website</div>
                  <div class="karte-text">Responsive Portfolio mit Projektbeschreibungen und KontaktmÃ¶glichkeit.</div>
                </div>
              </div>
            </a>
            <a class="karte-link" href="https://fotoblog.example.com/" target="_blank" rel="noopener" aria-label="Projekt: Fotoprojekt">
              <div class="karte">
                <img src="https://picsum.photos/600/400?random=13" alt="Fotoprojekt Beispiel">
                <div class="karte-content">
                  <div class="karte-title">Foto & Exploration</div>
                  <div class="karte-text">Sammlung fotografischer Arbeiten und georeferenzierter Touren.</div>
                </div>
              </div>
            </a>
          </div>
        </section>
      </section>

      <section id="tab-maps" class="tabpanel" role="tabpanel" aria-hidden="true">
        <section>
          <h2>Karten</h2>
          <div class="galerie" style="margin-top:0.8rem;">
            <a class="karte-link" href="assets/map_1_basiskarte.html" target="_blank" rel="noopener" aria-label="Karte: Basiskarte in neuem Fenster Ã¶ffnen">
              <div class="karte" role="article" aria-hidden="false">
                <iframe src="assets/map_1_basiskarte.html" loading="lazy" title="Vorschau: Basis-Karte" aria-label="Vorschau der Karte" style="border:0;"></iframe>
                <div class="karte-content">
                  <div class="karte-title">Basis-Karte 1</div>
                  <div class="karte-text">Vorschau der aus Colab exportierten Basiskarte. Klicke, um die Karte in voller GrÃ¶ÃŸe zu Ã¶ffnen.</div>
                </div>
              </div>
            </a>

            <a class="karte-link" href="assets/map_2_punkte.html" target="_blank" rel="noopener" aria-label="Karte: Punkte-Karte in neuem Fenster Ã¶ffnen">
              <div class="karte" role="article" aria-hidden="false">
                <iframe src="assets/map_2_punkte.html" loading="lazy" title="Vorschau: Punkte-Karte" aria-label="Vorschau der Punkte-Karte" style="border:0;"></iframe>
                <div class="karte-content">
                  <div class="karte-title">Punkte-Karte</div>
                  <div class="karte-text">Vorschau der Karte mit Punktstandorten. Klicke, um die Karte in voller GrÃ¶ÃŸe zu Ã¶ffnen.</div>
                </div>
              </div>
            </a>

            <a class="karte-link" href="assets/map_3_reiseroute.html" target="_blank" rel="noopener" aria-label="Karte: Reiseroute in neuem Fenster Ã¶ffnen">
              <div class="karte" role="article" aria-hidden="false">
                <iframe src="assets/map_3_reiseroute.html" loading="lazy" title="Vorschau: Reiseroute" aria-label="Vorschau der Reiseroute" style="border:0;"></iframe>
                <div class="karte-content">
                  <div class="karte-title">Reiseroute</div>
                  <div class="karte-text">Reiseroute: Gauâ€‘Odernheim â†’ MÃ¼nchen â†’ Berlin â†’ Hamburg â†’ Gauâ€‘Odernheim.</div>
                </div>
              </div>
            </a>

            <a class="karte-link" href="assets/map_4_flaechen_online.html" target="_blank" rel="noopener" aria-label="Karte: Besuchte LÃ¤nder in neuem Fenster Ã¶ffnen">
              <div class="karte" role="article" aria-hidden="false">
                <iframe src="assets/map_4_flaechen_online.html" loading="lazy" title="Vorschau: Besuchte LÃ¤nder" aria-label="Vorschau der besuchten LÃ¤nder" style="border:0;"></iframe>
                <div class="karte-content">
                  <div class="karte-title">Besuchte LÃ¤nder</div>
                  <div class="karte-text">Hervorgehobene LÃ¤nder: England, Luxemburg, Frankreich, Spanien (inkl. Mallorca), Italien, Ã–sterreich, Kroatien.</div>
                </div>
              </div>
            </a>

            <!-- Neues: Cesium 3D-Viewer Vorschau -->
            <a class="karte-link" href="assets/map_5_3d.html" target="_blank" rel="noopener" aria-label="Karte: 3D LoD2 GebÃ¤ude in neuem Fenster Ã¶ffnen">
              <div class="karte" role="article" aria-hidden="false">
                <iframe src="assets/map_5_3d.html" loading="lazy" title="Vorschau: 3D LoD2 GebÃ¤ude" aria-label="Vorschau der 3D Karte" style="border:0;"></iframe>
                <div class="karte-content">
                  <div class="karte-title">3D LoD2 GebÃ¤ude (Cesium)</div>
                  <div class="karte-text">Interaktive 3D-Ansicht mit Cesium: LoD2-GebÃ¤ude. Klicke, um die Karte in voller GrÃ¶ÃŸe zu Ã¶ffnen.</div>
                </div>
              </div>
            </a>
          </div>
        </section>
      </section>
    </div>

    <!-- Floating contact buttons (bottom-right) -->
    <div class="contact-float" aria-label="Kontakt und Profile">
      <a href="https://mail.google.com/mail/?view=cm&fs=1&to=l.ackermann2004%40gmail.com" class="contact-btn" target="_blank" rel="noopener" title="Eâ€‘Mail (Gmail)" aria-label="Eâ€‘Mail via Gmail Ã¶ffnen">
        <svg class="contact-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M3 6.5A2.5 2.5 0 015.5 4h13A2.5 2.5 0 0121 6.5v11A2.5 2.5 0 0118.5 20h-13A2.5 2.5 0 013 17.5v-11z" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M4.75 6.75l7.25 5.25 7.25-5.25" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>

      <a href="https://www.linkedin.com/in/leon-profile" class="contact-btn" target="_blank" rel="noopener" title="LinkedIn" aria-label="LinkedIn Profil Ã¶ffnen">
        <svg class="contact-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <rect x="2" y="3" width="20" height="18" rx="2" stroke="currentColor" stroke-width="1.2"/>
          <path d="M7.5 10.5v6M7.5 8.5v.01M12 16.5v-4.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M16.5 16.5v-3c0-1.2-.9-1.5-1.5-1.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>

      <a href="https://github.com/Leon250304" class="contact-btn" target="_blank" rel="noopener" title="GitHub" aria-label="GitHub Profil Ã¶ffnen">
        <svg class="contact-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M12 2C7.58 2 4 5.58 4 10c0 3.54 2.29 6.53 5.47 7.58.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.86 2.33.66.07-.52.28-.86.51-1.06-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.22 2.2.82a7.5 7.5 0 012 0c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.28.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.46.55.38C17.71 16.53 20 13.54 20 10c0-4.42-3.58-8-8-8z" fill="currentColor"/>
        </svg>
      </a>
    </div>

    <!-- ...existing code... -->
  </main>

  <script>
    (function(){
      // Theme setup
      const root = document.documentElement;
      const toggle = document.getElementById('themeToggle');
      const storageKey = 'site-theme';
      const applyTheme = (theme) => {
        if(theme === 'dark'){
          root.setAttribute('data-theme','dark');
          toggle.textContent = 'â˜€ï¸';
          toggle.setAttribute('aria-pressed','true');
        } else {
          root.removeAttribute('data-theme');
          toggle.textContent = 'ðŸŒ™';
          toggle.setAttribute('aria-pressed','false');
        }
      };
      // initialize
      const saved = localStorage.getItem(storageKey);
      if(saved) applyTheme(saved);
      else if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) applyTheme('dark');
      // toggle on click
      toggle.addEventListener('click', () => {
        const isDark = root.getAttribute('data-theme') === 'dark';
        const next = isDark ? 'light' : 'dark';
        applyTheme(next === 'dark' ? 'dark' : 'light');
        localStorage.setItem(storageKey, next === 'dark' ? 'dark' : 'light');
      });

      // Tabs
      const tabs = Array.from(document.querySelectorAll('.tab'));
      const panels = Array.from(document.querySelectorAll('.tabpanel'));
      function activateTab(targetId){
        tabs.forEach(t => {
          const sel = t.dataset.target === targetId;
          t.setAttribute('aria-selected', sel ? 'true' : 'false');
          if(sel) t.classList.add('active'); else t.classList.remove('active');
        });
        panels.forEach(p => {
          const isTarget = p.id === targetId;
          p.setAttribute('aria-hidden', isTarget ? 'false' : 'true');
          if(isTarget){
            p.style.display = '';
            p.animate([{opacity:0, transform:'translateY(6px)'},{opacity:1, transform:'translateY(0)'}],{duration:260,easing:'cubic-bezier(.2,.9,.2,1)'});
          } else {
            p.style.display = 'none';
          }
        });
      }
      // initial
      activateTab('tab-about');
      // listeners
      tabs.forEach(t => t.addEventListener('click', () => activateTab(t.dataset.target)));

      // keyboard support
      document.querySelector('.tabs').addEventListener('keydown', (e) => {
        const idx = tabs.findIndex(t => t === document.activeElement);
        if(e.key === 'ArrowRight') tabs[(idx+1)%tabs.length].focus();
        if(e.key === 'ArrowLeft') tabs[(idx-1+tabs.length)%tabs.length].focus();
        if(e.key === 'Home') tabs[0].focus();
        if(e.key === 'End') tabs[tabs.length-1].focus();
      });

      // ---- New: load news from JSON ----
      const newsContainer = document.getElementById('newsContainer');
      async function loadNews(){
        try{
          const res = await fetch('assets/news.json', {cache: 'no-store'});
          if(!res.ok) throw new Error('Fehler beim Laden der Nachrichten');
          const data = await res.json();
          renderNews(data);
        }catch(err){
          console.error(err);
          newsContainer.innerHTML = '<p style="color:var(--muted);">Die News konnten nicht geladen werden.</p>';
        }
      }
      function renderNews(items){
        if(!items || !items.length){
          newsContainer.innerHTML = '<p style="color:var(--muted);">Keine aktuellen Nachrichten vorhanden.</p>';
          return;
        }
        newsContainer.innerHTML = '';
        items.sort((a,b)=> new Date(b.date) - new Date(a.date));
        items.forEach(item => {
          const a = document.createElement('a');
          a.className = 'news-item karte-link';
          a.href = item.link || '#';
          a.target = item.link ? '_blank' : '';
          a.rel = item.link ? 'noopener' : '';

          const card = document.createElement('article');
          card.className = 'karte';
          card.style.display = 'flex';
          card.style.gap = '12px';
          card.style.alignItems = 'flex-start';

          if(item.image){
            const img = document.createElement('img');
            img.src = item.image;
            img.alt = item.title || 'News Bild';
            img.style.width = '140px';
            img.style.height = '100px';
            img.style.objectFit = 'cover';
            img.style.flex = '0 0 140px';
            img.style.borderRadius = '8px';
            card.appendChild(img);
          }

          const content = document.createElement('div');
          content.style.flex = '1';

          const meta = document.createElement('div');
          meta.style.fontSize = '0.9rem';
          meta.style.color = 'var(--muted)';
          meta.style.marginBottom = '0.25rem';
          meta.textContent = new Date(item.date).toLocaleDateString('de-DE', {year:'numeric',month:'short',day:'numeric'});

          const title = document.createElement('div');
          title.style.fontWeight = '700';
          title.style.marginBottom = '0.25rem';
          title.textContent = item.title || '';

          const excerpt = document.createElement('div');
          excerpt.style.color = 'var(--muted)';
          excerpt.textContent = item.excerpt || '';

          content.appendChild(meta);
          content.appendChild(title);
          content.appendChild(excerpt);

          card.appendChild(content);
          a.appendChild(card);

          newsContainer.appendChild(a);
        });
      }

      // load immediately when script runs; also reload when News tab is activated to ensure freshness
      loadNews();
      document.querySelectorAll('.tab').forEach(t => t.addEventListener('click', (e)=>{
        if(e.currentTarget.dataset.target === 'tab-news') loadNews();
      }));

    })();
  </script>

  <style>
    /* Theme variables and modernized styling */
    :root {
      --bg: #f9fafb;
      --fg: #0f1720;
      --accent: #20b581ff;
      --card-bg: #ffffff;
      --border: #e5e7eb;
      --muted: #6b7280;
      --glass: rgba(255,255,255,0.6);
    }
    :root[data-theme='dark'], [data-theme='dark'] {
      --bg: #0b1020;
      --fg: #e6eef2;
      --accent: #2bd6a1;
      --card-bg: #071122;
      --border: rgba(255,255,255,0.06);
      --muted: #94a3b8;
      --glass: rgba(255,255,255,0.03);
    }
    html { transition: background 220ms ease, color 220ms ease; }
    body { background: linear-gradient(180deg,var(--bg), rgba(0,0,0,0.02)); transition: background 220ms ease, color 220ms ease; }

    /* Tabs */
    .tabs-bar { display:flex; align-items:center; gap:0.5rem; }
    .tab {
      background: transparent;
      border: 1px solid transparent;
      padding: 0.45rem 0.9rem;
      border-radius: 999px;
      cursor: pointer;
      font-weight:600;
      color:var(--muted);
      transition: all 180ms ease;
      outline: none;
      box-shadow: none;
    }
    .tab:hover { transform: translateY(-2px); color:var(--fg); }
    .tab[aria-selected='true']{
      background: linear-gradient(90deg, rgba(32,181,129,0.12), rgba(32,181,129,0.06));
      color: var(--accent);
      border-color: rgba(32,181,129,0.18);
      box-shadow: 0 6px 18px rgba(32,181,129,0.08);
    }
    .tab:focus{ box-shadow: 0 0 0 4px rgba(32,181,129,0.08); }

    .theme-toggle{
      background: var(--card-bg);
      border: 1px solid var(--border);
      padding: 0.45rem 0.6rem;
      border-radius: 0.55rem;
      cursor:pointer;
      font-size:1rem;
      transition:transform 150ms ease, background 150ms ease;
    }
    .theme-toggle:hover{ transform: translateY(-2px); }

    /* Panels */
    .panels .tabpanel{ display:block; background:var(--card-bg); border-radius:1rem; padding:1.4rem; border:1px solid var(--border); box-shadow:0 8px 30px rgba(2,6,23,0.04); margin-bottom:1rem; }
    .panels .tabpanel[aria-hidden='true']{ display:none; }

    /* Cards */
    .karte{ border-radius:0.9rem; overflow:hidden; border:1px solid var(--border); background:var(--card-bg); transition:transform 220ms ease, box-shadow 220ms ease; }
    .karte img{ height:140px; object-fit:cover; }
    .karte:hover{ transform: translateY(-6px); box-shadow:0 20px 40px rgba(2,6,23,0.12); }

    /* Table improvements */
    table tbody tr{ transition:background 180ms ease, transform 180ms ease; }
    table tbody tr:hover{ transform: translateX(6px); }

    /* Responsive tweaks */
    @media (max-width:720px){
      .tabs-bar{ padding:0 0.6rem; }
      .tab{ padding:0.4rem 0.7rem; font-size:0.95rem; }
      .karte img{ height:120px; }
    }

    /* News specific styles */
    .news-list {
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
      margin-top: 0.8rem;
    }
    .news-item {
      display: flex;
      gap: 12px;
      align-items: flex-start;
      padding: 1rem;
      border: 1px solid var(--border);
      border-radius: 0.9rem;
      background: var(--card-bg);
      transition: transform 220ms ease, box-shadow 220ms ease;
    }
    .news-item:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 32px rgba(32,181,129,0.18);
    }
    .news-item img {
      width: 140px;
      height: 100px;
      object-fit: cover;
      flex: 0 0 140px;
      border-radius: 8px;
    }
    .news-item div {
      flex: 1;
    }
    .news-item .meta {
      font-size: 0.9rem;
      color: var(--muted);
      margin-bottom: 0.25rem;
    }
    .news-item .title {
      font-weight: 700;
      margin-bottom: 0.25rem;
    }
    .news-item .excerpt {
      color: var(--muted);
    }

    /* Floating contact area */
    .contact-float {
      position: fixed;
      right: 18px;
      bottom: 18px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 1200;
      align-items: center;
      pointer-events: none; /* allow only links to be interactive */
    }
    .contact-float .contact-btn {
      pointer-events: auto;
      width: 46px;
      height: 46px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: var(--card-bg);
      border: 1px solid var(--border);
      color: var(--fg);
      border-radius: 10px;
      text-decoration: none;
      transition: transform 150ms ease, box-shadow 150ms ease, background 150ms ease;
      box-shadow: 0 6px 18px rgba(2,6,23,0.06);
    }
    .contact-float .contact-btn:hover, .contact-float .contact-btn:focus {
      transform: translateY(-6px);
      box-shadow: 0 18px 34px rgba(2,6,23,0.12);
      background: linear-gradient(180deg, rgba(32,181,129,0.06), transparent);
      outline: none;
    }
    .contact-icon {
      width: 20px;
      height: 20px;
      display: block;
      color: var(--accent);
    }
    /* Karten / iframe previews */
    .karte iframe {
      width: 100%;
      height: 220px;
      border: 0;
      display: block;
      background: #f6f8f9;
    }
    @media (max-width:480px){
      .contact-float { right: 12px; bottom: 12px; }
      .contact-float .contact-btn { width:40px;height:40px; }
      .contact-icon { width:18px;height:18px; }
    }
  </style>

</body>
</html>